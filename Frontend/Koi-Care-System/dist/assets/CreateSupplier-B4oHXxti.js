import{d as x,r as m,u as h,j as e,a as b,B as n}from"./index-DsR5MBtH.js";import{L as g,H as f}from"./LeftSideBar-CeYCRzgh.js";import{T as N}from"./TopLayoutShop-CQxrzWXR.js";import{a as j}from"./index.esm-XLeKDvWu.js";import"./index-BMqfeWhp.js";import"./index-gO7psG0g.js";import"./index-DSRF4rO0.js";/* empty css            */import"./logo-DG-ZgLhE.js";function E(){const{isDarkMode:t}=x(),[o,i]=m.useState(!1),[w,l]=m.useState(!0),u=h(),{register:d,handleSubmit:c,formState:{errors:s},reset:S}=j(),p=async r=>{console.log("onSubmit:",r),l(!0),i(!0);try{const a=localStorage.getItem("token");if(!a)throw new Error("No token found");const v=await b.post("https://koicaresystemv2.azurewebsites.net/api/suppliers/add",{name:r.name,phone:r.phone,address:r.address},{headers:{Authorization:`Bearer ${a}`}});n.success("Supplier created successfully!"),u("/shop/supplier")}catch(a){console.log(a),n.error("Failed to create Supplier.")}finally{i(!1),l(!1)}};return e.jsxs("div",{className:"h-screen flex",children:[e.jsx(g,{}),e.jsxs("div",{className:`relative ${t?"bg-custom-light text-white":"bg-white text-black"} overflow-y-auto flex-1 flex-col  overflow-x-hidden duration-200 ease-linear`,children:[e.jsx(f,{}),e.jsxs("div",{className:"py-5 pb-0 px-[30px] mx-auto",children:[e.jsx(N,{text:"Supplier",textName:"Create Supplier",links:"shop/supplier"}),e.jsx("div",{className:"p-6 rounded-md border",children:e.jsxs("form",{onSubmit:c(p),noValidate:!0,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium mb-2",children:"Supllier Name"}),e.jsx("input",{type:"text",id:"name",className:`w-full p-2 border rounded-md ${t?"bg-custom-dark text-white":"bg-white text-black"} ${s.name?"border-red-500":"border-gray-300"}`,...d("name",{required:"Name is required",minLength:{value:2,message:"Name must be at least 2 characters long"},maxLength:{value:50,message:"Name must not exceed 50 characters"}})}),s.name&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.name.message})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium mb-2",children:"Supplier Phone"}),e.jsx("input",{type:"number",id:"phone",className:`w-full p-2 border rounded-md ${t?"bg-custom-dark text-white":"bg-white text-black"} ${s.phone?"border-red-500":"border-gray-300"}`,...d("phone",{required:"Phone is required",pattern:{value:/^0[0-9]{8,9}$/,message:"Phone number must start with 0 and between 9 and 10 numbers"}})}),s.phone&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.phone.message})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"address",className:"block text-sm font-medium mb-2",children:"Supllier Address"}),e.jsx("input",{type:"text",id:"address",className:`w-full p-2 border rounded-md ${t?"bg-custom-dark text-white":"bg-white text-black"} ${s.address?"border-red-500":"border-gray-300"}`,...d("address",{required:"Address is required",minLength:{value:5,message:"Address must be at least 5 characters long"},maxLength:{value:200,message:"Address must not exceed 200 characters"}})}),s.address&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.address.message})]}),e.jsx("button",{type:"submit",className:`px-4 py-2 bg-blue-600 text-white rounded-md ${o?"opacity-50 cursor-not-allowed":"hover:bg-blue-700"}`,disabled:o,children:o?"Submitting...":"Create Supplier"})]})})]})]})]})}export{E as default};
