import{d as b,r as d,u as h,j as e,a as N,B as g}from"./index-DJCnzeuI.js";import{L as f,H as j}from"./LeftSideBar-3wwmLdDA.js";import{T as w}from"./TopLayoutShop-CPLlgtOy.js";import{a as y}from"./index.esm-I7So98a0.js";import"./index-DN07_IMb.js";import"./index-D1y2TWOl.js";import"./index-CtFRRV_m.js";/* empty css            */import"./logo-DG-ZgLhE.js";function I(){const{isDarkMode:a}=b(),[r,i]=d.useState(!1),[k,m]=d.useState(!0),u=h(),{register:l,handleSubmit:x,formState:{errors:t},reset:v}=y(),p=async o=>{var n,c;console.log("onSubmit:",o),m(!0),i(!0);try{const s=localStorage.getItem("token");if(!s)throw new Error("No token found");const D=await N.post("https://koicaresystemv2.azurewebsites.net/api/tag/create",{tagName:o.tagName,tagDescription:o.tagDescription},{headers:{Authorization:`Bearer ${s}`}});g.success("Tag created successfully!"),u("/shop/tag")}catch(s){console.log(s),g.error(((c=(n=s.response)==null?void 0:n.data)==null?void 0:c.message)||"Failed to create tag.")}finally{i(!1),m(!1)}};return e.jsxs("div",{className:"h-screen flex",children:[e.jsx(f,{}),e.jsxs("div",{className:`relative ${a?"bg-custom-light text-white":"bg-white text-black"} overflow-y-auto flex-1 flex-col  overflow-x-hidden duration-200 ease-linear`,children:[e.jsx(j,{}),e.jsxs("div",{className:"py-5 pb-0 px-[30px] mx-auto",children:[e.jsx(w,{text:"Tag",textName:"Create Tag",links:"shop/tag"}),e.jsx("div",{className:"p-6 rounded-md border",children:e.jsxs("form",{onSubmit:x(p),noValidate:!0,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"tagName",className:"block text-sm font-medium mb-2",children:"Tag Name"}),e.jsx("input",{type:"text",id:"tagName",className:`w-full p-2 border rounded-md ${a?"bg-custom-dark text-white":"bg-white text-black"} ${t.tagName?"border-red-500":"border-gray-300"}`,...l("tagName",{required:"Tag Name is required"})}),t.tagName&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:t.tagName.message})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"tagDescription",className:"block text-sm font-medium mb-2",children:"Tag Description"}),e.jsx("input",{type:"text",id:"tagDescription",className:`w-full p-2 border rounded-md ${a?"bg-custom-dark text-white":"bg-white text-black"} ${t.tagDescription?"border-red-500":"border-gray-300"}`,...l("tagDescription",{required:"Tag Description is required"})}),t.tagDescription&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:t.tagDescription.message})]}),e.jsx("button",{type:"submit",className:`px-4 py-2 bg-blue-600 text-white rounded-md ${r?"opacity-50 cursor-not-allowed":"hover:bg-blue-700"}`,disabled:r,children:r?"Submitting...":"Create Tag"})]})})]})]})]})}export{I as default};
