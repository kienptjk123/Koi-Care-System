import{d as P,r as l,e as R,j as e,a as c}from"./index-Qtd3etr3.js";import{L as V,H as F}from"./LeftSideBar-CO1q3EiE.js";import{T as z}from"./TopLayoutShop-B26udbzX.js";import{t as j,u as N,v as f,h as L,C as U,j as G,D as Q,w as q}from"./index-DF6yzlP_.js";import{c as W}from"./index-CdZqjTQo.js";import{c as Y,b as J}from"./index-B9_b-htS.js";import{B as y,G as K}from"./index-DpKYemuU.js";import{a as X,b as _}from"./index-CYe7FaXN.js";import"./index-Ds6Ab8W8.js";/* empty css            */import"./logo-DG-ZgLhE.js";function ie(){const{isDarkMode:o}=P(),[r,v]=l.useState(null),[b,w]=l.useState(null),[g,D]=l.useState(null),[d,S]=l.useState("payment"),{id:x}=R(),[a,i]=l.useState(null),[C,h]=l.useState(!1),n=t=>t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")+"Ä‘",m=t=>{const s=new Date(t),p=String(s.getDate()).padStart(2,"0"),Z=String(s.getMonth()+1).padStart(2,"0"),I=s.getFullYear(),T=String(s.getHours()).padStart(2,"0"),B=String(s.getMinutes()).padStart(2,"0"),H=String(s.getSeconds()).padStart(2,"0");return`${T}:${B}:${H} ${p}/${Z}/${I}`},A=t=>{i(t),h(!0)},k=()=>{h(!1),i(null)},M=async()=>{try{const t=localStorage.getItem("token");if(!t)throw new Error("No token found");const s=await c.get(`https://koicaresystemv2.azurewebsites.net/api/profile/${x}`,{headers:{Authorization:`Bearer ${t}`}});v(s.data.data)}catch(t){console.log("Error fetching user:",t)}};l.useEffect(()=>{M()},[]);const E=async()=>{try{const t=localStorage.getItem("token");if(!t)throw new Error("No token found");const s=await c.get(`https://koicaresystemv2.azurewebsites.net/api/payment/user/${x}`,{headers:{Authorization:`Bearer ${t}`}});D(s.data.data)}catch(t){console.log("Error fetching payment:",t)}};l.useEffect(()=>{E()},[]);const $=async()=>{try{const t=localStorage.getItem("token");if(!t)throw new Error("No token found");const s=await c.get(`https://koicaresystemv2.azurewebsites.net/api/orders/user/${x}/order`,{headers:{Authorization:`Bearer ${t}`}});w(s.data.data)}catch(t){console.log("Error fetching order:",t)}};l.useEffect(()=>{$()},[]);const u=t=>{S(t)},O=async t=>{try{const s=localStorage.getItem("token");if(!s)throw new Error("No token found");const p=await c.get(`https://koicaresystemv2.azurewebsites.net/api//orders/${t}/order`,{headers:{Authorization:`Bearer ${s}`}});i(p.data.data),h(!0)}catch(s){console.error("Error fetching order details:",s)}};return e.jsx("div",{children:e.jsxs("div",{className:"h-screen flex",children:[e.jsx(V,{}),e.jsxs("div",{className:`relative ${o?"bg-custom-light text-white":"bg-white text-black"} overflow-y-auto flex-1 flex-col overflow-x-hidden duration-200 ease-linear`,children:[e.jsx(F,{}),e.jsxs("div",{className:"py-5 px-[30px] mx-auto max-w-[1750px]",children:[e.jsx(z,{text:"Users",textName:"User Details",links:"shop/viewUser"}),e.jsxs("div",{className:"mt-6 border rounded-lg p-6 flex flex-col lg:flex-row gap-4",children:[e.jsxs("div",{className:"Oder-Payment-Table lg:w-[65%] md:w-full mt-10",children:[e.jsxs("div",{className:"flex justify-center space-x-4",children:[e.jsx("button",{className:`px-4 w-full rounded-3xl py-2 ${d==="payment"?"bg-blue-500 text-white":"bg-gray-400"}`,onClick:()=>u("payment"),children:"View Payment Details"}),e.jsx("button",{className:`px-4 w-full rounded-3xl py-2 ${d==="order"?"bg-blue-500 text-white":"bg-gray-400"}`,onClick:()=>u("order"),children:"View Order Details"})]}),d==="payment"?e.jsx("div",{className:"Payment-Table overflow-x-auto max-h-[50vh] mt-10",children:g?e.jsxs("table",{className:"min-w-full border-spacing-x-1 border-gray-200",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"py-3 px-4 text-center text-xs font-bold uppercase",children:"No"}),e.jsx("th",{className:"py-3 px-2 text-center text-xs font-bold uppercase",children:"Create Date"}),e.jsx("th",{className:"py-3 px-2 text-center text-xs font-bold uppercase",children:"Invoice Code"}),e.jsx("th",{className:"py-3 px-2 text-center text-xs font-bold uppercase",children:"Tracsaction Code"}),e.jsx("th",{className:"py-3 px-2 text-center text-xs font-bold uppercase",children:"Amount"}),e.jsx("th",{className:"py-3 px-2 text-center text-xs font-bold uppercase",children:"Status"}),e.jsx("th",{className:"py-3 px-2 text-center text-xs font-bold uppercase",children:"Action"})]})}),e.jsx("tbody",{children:g.map((t,s)=>e.jsxs("tr",{children:[e.jsx("td",{className:"py-3 px-1 text-center border-b border-gray-200",children:s+1}),e.jsx("td",{className:"py-3 px-1 text-center border-b border-gray-200",children:m(t.createDate)}),e.jsx("td",{className:"py-3 px-1 text-center border-b border-gray-200",children:t.invoiceCode}),e.jsx("td",{className:"py-3 px-1 text-center border-b border-gray-200",children:t.transactionCode}),e.jsx("td",{className:"py-3 px-1 text-center border-b border-gray-200",children:n(t.amount)}),e.jsx("td",{className:"py-3 px-1 text-center border-b border-gray-200",children:e.jsx("div",{className:`p-1 rounded text-sm font-medium border-2 ${t.status==="COMPLETED"?"border-green-500 text-green-500":"border-red-500 text-red-500"}`,children:t.status})}),e.jsx("td",{className:"py-2 px-1 text-center border-b border-gray-200",children:e.jsx("div",{className:"flex justify-center items-center",children:e.jsx("button",{className:"p-1 hover:bg-green-500 text-green-500 hover:text-white  rounded-full",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-6",onClick:()=>O(t.orderId),children:[e.jsx("path",{fillRule:"evenodd",d:"M7.502 6h7.128A3.375 3.375 0 0 1 18 9.375v9.375a3 3 0 0 0 3-3V6.108c0-1.505-1.125-2.811-2.664-2.94a48.972 48.972 0 0 0-.673-.05A3 3 0 0 0 15 1.5h-1.5a3 3 0 0 0-2.663 1.618c-.225.015-.45.032-.673.05C8.662 3.295 7.554 4.542 7.502 6ZM13.5 3A1.5 1.5 0 0 0 12 4.5h4.5A1.5 1.5 0 0 0 15 3h-1.5Z",clipRule:"evenodd"}),e.jsx("path",{fillRule:"evenodd",d:"M3 9.375C3 8.339 3.84 7.5 4.875 7.5h9.75c1.036 0 1.875.84 1.875 1.875v11.25c0 1.035-.84 1.875-1.875 1.875h-9.75A1.875 1.875 0 0 1 3 20.625V9.375ZM6 12a.75.75 0 0 1 .75-.75h.008a.75.75 0 0 1 .75.75v.008a.75.75 0 0 1-.75.75H6.75a.75.75 0 0 1-.75-.75V12Zm2.25 0a.75.75 0 0 1 .75-.75h3.75a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1-.75-.75ZM6 15a.75.75 0 0 1 .75-.75h.008a.75.75 0 0 1 .75.75v.008a.75.75 0 0 1-.75.75H6.75a.75.75 0 0 1-.75-.75V15Zm2.25 0a.75.75 0 0 1 .75-.75h3.75a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1-.75-.75ZM6 18a.75.75 0 0 1 .75-.75h.008a.75.75 0 0 1 .75.75v.008a.75.75 0 0 1-.75.75H6.75a.75.75 0 0 1-.75-.75V18Zm2.25 0a.75.75 0 0 1 .75-.75h3.75a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"})]})})})})]},t.id))})]}):e.jsx("p",{children:"No payment data available"})}):e.jsx("div",{className:"Order-Table overflow-x-auto max-h-[50vh] mt-10",children:b?e.jsxs("table",{className:"min-w-full border-spacing-x-1 border-gray-200",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"py-3 px-4 text-center text-xs font-bold uppercase",children:"No"}),e.jsx("th",{className:"py-3 px-2 text-center text-xs font-bold uppercase",children:"Order Date"}),e.jsx("th",{className:"py-3 px-2 text-center text-xs font-bold uppercase",children:"Order ID"}),e.jsx("th",{className:"py-3 px-2 text-center text-xs font-bold uppercase",children:"Total Amount"}),e.jsx("th",{className:"py-3 px-2 text-center text-xs font-bold uppercase",children:"Status"}),e.jsx("th",{className:"py-3 px-2 text-center text-xs font-bold uppercase",children:"Detail"})]})}),e.jsx("tbody",{children:b.map((t,s)=>e.jsxs("tr",{children:[e.jsx("td",{className:"py-2 px-1 text-center border-b border-gray-200",children:s+1}),e.jsx("td",{className:"py-2 px-1 text-center border-b border-gray-200",children:m(t.orderDate)}),e.jsx("td",{className:"py-2 px-1 text-center border-b border-gray-200",children:t.id}),e.jsx("td",{className:"py-2 px-1 text-center border-b border-gray-200",children:n(t.totalAmount)}),e.jsx("td",{className:"py-2 px-1 text-center border-b border-gray-200",children:e.jsx("div",{className:`p-1 rounded text-sm font-medium border-2 ${t.status==="PENDING"?"border-yellow-500 text-yellow-500":t.status==="PROCESSING"?"border-blue-500 text-blue-500":t.status==="DELIVERED"?"border-green-500 text-green-500":t.status==="CANCELLED"?"border-red-500 text-red-500":""}`,children:t.status})}),e.jsx("td",{className:"py-2 px-1 text-center border-b border-gray-200",children:e.jsx("div",{className:"flex justify-center items-center",children:e.jsx("button",{className:"p-1 hover:bg-green-500 text-green-500 hover:text-white  rounded-full",onClick:()=>A(t),children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-6",children:[e.jsx("path",{fillRule:"evenodd",d:"M7.502 6h7.128A3.375 3.375 0 0 1 18 9.375v9.375a3 3 0 0 0 3-3V6.108c0-1.505-1.125-2.811-2.664-2.94a48.972 48.972 0 0 0-.673-.05A3 3 0 0 0 15 1.5h-1.5a3 3 0 0 0-2.663 1.618c-.225.015-.45.032-.673.05C8.662 3.295 7.554 4.542 7.502 6ZM13.5 3A1.5 1.5 0 0 0 12 4.5h4.5A1.5 1.5 0 0 0 15 3h-1.5Z",clipRule:"evenodd"}),e.jsx("path",{fillRule:"evenodd",d:"M3 9.375C3 8.339 3.84 7.5 4.875 7.5h9.75c1.036 0 1.875.84 1.875 1.875v11.25c0 1.035-.84 1.875-1.875 1.875h-9.75A1.875 1.875 0 0 1 3 20.625V9.375ZM6 12a.75.75 0 0 1 .75-.75h.008a.75.75 0 0 1 .75.75v.008a.75.75 0 0 1-.75.75H6.75a.75.75 0 0 1-.75-.75V12Zm2.25 0a.75.75 0 0 1 .75-.75h3.75a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1-.75-.75ZM6 15a.75.75 0 0 1 .75-.75h.008a.75.75 0 0 1 .75.75v.008a.75.75 0 0 1-.75.75H6.75a.75.75 0 0 1-.75-.75V15Zm2.25 0a.75.75 0 0 1 .75-.75h3.75a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1-.75-.75ZM6 18a.75.75 0 0 1 .75-.75h.008a.75.75 0 0 1 .75.75v.008a.75.75 0 0 1-.75.75H6.75a.75.75 0 0 1-.75-.75V18Zm2.25 0a.75.75 0 0 1 .75-.75h3.75a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"})]})})})})]},t.id))})]}):e.jsx("p",{children:"No order data available"})})]}),e.jsx("div",{className:"mt-6 border rounded-lg p-6 gap-4 lg:w-[35%] w-full overflow-x-auto",children:r?e.jsxs("div",{className:"user-profile",children:[e.jsxs("h2",{className:"text-xl flex items-center justify-center gap-2 font-bold text-blue-800 mb-4",children:[e.jsx(j,{}),r.name]}),e.jsxs("p",{className:"py-3 flex items-center gap-2",children:[e.jsx(W,{className:"text-2xl text-red-500"}),e.jsx("strong",{children:"Email:"}),r.email]}),e.jsxs("p",{className:"py-3 flex items-center gap-2",children:[e.jsx(N,{className:"text-2xl text-green-500"}),e.jsx("strong",{children:"Phone:"}),r.phone]}),e.jsxs("p",{className:"py-3 flex items-center gap-2",children:[e.jsx(f,{className:"text-2xl text-red-500"})," ",e.jsx("strong",{children:"Address:"})," ",r.address]}),e.jsxs("p",{className:"py-3 flex items-center gap-2",children:[r.gender==="male"&&e.jsx(X,{className:"text-2xl text-blue-500"}),r.gender==="female"&&e.jsx(_,{className:"text-2xl text-pink-500"}),r.gender!=="male"&&r.gender!=="female"&&e.jsx(L,{className:"text-2xl text-gray-500"}),e.jsx("strong",{children:"Gender:"})," ",r.gender]}),e.jsxs("p",{className:"py-3 flex items-center gap-2",children:[e.jsx(Y,{className:"text-2xl text-blue-500"})," ",e.jsx("strong",{children:"Bio:"})," ",r.bio]}),e.jsxs("p",{className:"py-3 flex items-center gap-2",children:[e.jsx(U,{className:"text-2xl text-gray-500"})," ",e.jsx("strong",{children:"Date of Birth:"})," ",r.dateOfBirth]}),e.jsxs("p",{className:"py-3 flex items-center gap-2",children:[e.jsx(y,{className:"text-2xl text-green-500"})," ",e.jsx("strong",{children:"Create Date:"})," ",r.createdDate]}),e.jsxs("p",{className:"py-3 flex items-center gap-2",children:[e.jsx(G,{className:"text-2xl text-yellow-400"})," ",e.jsx("strong",{children:"Status:"})," ",r.status]})]}):e.jsx("p",{children:"Loading user profile..."})}),C&&a&&e.jsx("div",{className:`fixed top-0 left-0 overflow-auto w-full h-full flex justify-center items-center z-50 bg-opacity-50 ${o?"bg-gray-900 text-gray-200":"bg-gray-800 text-gray-600"}`,children:e.jsxs("div",{className:`p-4 border rounded-lg max-h-[80vh] max-w-[100vw] overflow-auto ${o?"bg-gray-800 border-gray-700":"bg-white"}`,children:[e.jsx("h3",{className:"text-xl text-center font-bold mb-4",children:"ORDER DETAILS"}),e.jsxs("div",{className:" p-4 border rounded-lg shadow-lg",children:[e.jsxs("p",{className:"mb-3 flex items-center gap-2",children:[e.jsx(Q,{className:"text-2xl text-blue-500"}),e.jsx("strong",{children:"Order ID:"})," ",a.id]}),e.jsxs("p",{className:"mb-3 flex items-center gap-2",children:[e.jsx(y,{className:"text-2xl text-purple-500"}),e.jsx("strong",{children:"Order Date:"})," ",m(a.orderDate)]}),e.jsxs("p",{className:"mb-3 flex items-center gap-2",children:[e.jsx(f,{className:"text-2xl text-red-500"}),e.jsx("strong",{children:"Address:"})," ",a.address]}),e.jsxs("p",{className:"mb-3 flex items-center gap-2",children:[e.jsx(N,{className:"text-2xl text-green-500"}),e.jsx("strong",{children:"Phone:"})," ",a.phone]}),e.jsxs("p",{className:"mb-3 flex items-center gap-2",children:[e.jsx(K,{className:"text-2xl text-yellow-500"}),e.jsx("strong",{children:"Note:"})," ",a.note]}),e.jsxs("p",{className:"mb-3 flex items-center gap-2",children:[e.jsx(j,{className:"text-2xl text-blue-500"}),e.jsx("strong",{children:"RecipientName:"})," ",a.recipientName]}),e.jsxs("p",{className:"mb-3 flex items-center gap-2",children:[e.jsx(J,{className:"text-2xl text-red-500"}),e.jsx("strong",{children:"Status:"})," ",a.status]}),e.jsxs("p",{className:"mb-3 flex items-center gap-2",children:[e.jsx(q,{className:"text-2xl text-green-500"})," ",e.jsx("strong",{children:"Total Amount:"})," ",n(a.totalAmount)]})]}),e.jsxs("div",{className:"Order-Table overflow-auto p-4 mt-4 shadow-lg border rounded-lg",children:[e.jsx("h2",{className:"text-xl font-bold mb-2",children:"Item Details"}),e.jsxs("table",{className:"min-w-full border-spacing-x-1 border-gray-200",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"py-3 px-4 text-center text-xs font-bold uppercase",children:"No"}),e.jsx("th",{className:"py-3 px-2 text-center text-xs font-bold uppercase",children:"Product Name"}),e.jsx("th",{className:"py-3 px-2 text-center text-xs font-bold uppercase",children:"Quantity"}),e.jsx("th",{className:"py-3 px-2 text-center text-xs font-bold uppercase",children:"Total Price"})]})}),e.jsx("tbody",{children:a.items.map((t,s)=>e.jsxs("tr",{children:[e.jsx("td",{className:"py-2 px-1 text-center border-b border-gray-200",children:s+1}),e.jsx("td",{className:"py-2 px-1 text-center border-b border-gray-200",children:t.productName}),e.jsx("td",{className:"py-2 px-1 text-center border-b border-gray-200",children:t.quantity}),e.jsx("td",{className:"py-2 px-1 text-center border-b border-gray-200",children:n(t.price)})]},t.id))})]})]}),e.jsx("button",{className:"mt-4 px-4 py-2 bg-red-500 text-white rounded",onClick:k,children:"Close"})]})})]})]})]})]})})}export{ie as default};
